<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Reportings</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-item>
        <div class="input-container">
            <ion-icon class="iconLogin" name="calendar"></ion-icon>
            <ion-select placeholder="Weekly" [(ngModel)]="typeChoice" (ionChange)="leaders.typeChoice($event.target.value, 7)">
                <ion-select-option value="Weekly">Weekly</ion-select-option>
                <ion-select-option value="Monthly">Monthly</ion-select-option>
                <ion-select-option value="Quarterly">Quarterly</ion-select-option>
                <ion-select-option value="Yearly">Yearly</ion-select-option>
            </ion-select>
        </div>
    </ion-item>
    <ion-item>
        <ion-item>
            <ion-label position="floating">Select Date</ion-label>
            <ion-datetime [value]="currentDate" (ionChange)="getSelectedDate($event)" displayFormat="DDDD MMM D, YYYY" min="2000" max="2021"></ion-datetime>
          </ion-item>
    </ion-item>
    <ion-item>
        <div class="input-container">
            <ion-icon class="iconLogin" name="person"></ion-icon>
            <ion-select placeholder="Leader" (ionChange)="getData($event)" [value]="leaders.leaders[0]">
                <ion-select-option *ngFor="let leader of leaders.leaders" [value]="leader"> {{ leader.lastname }}, {{ leader.firstname }}</ion-select-option>
            </ion-select>
        </div>
    </ion-item>
    <div class="ion-margin">
        <ion-grid>
            <ion-row class="grid">
                <ion-col size-xs="6">Name</ion-col>
                <ion-col size-xs="2">CG</ion-col>
                <ion-col size-xs="2">SC</ion-col>
            </ion-row><br>
            <div *ngIf="leaders.members.length != 0">
                <ion-row *ngFor="let member of leaders.members;let i = index">
                    <ion-col size-xs="6">{{ member.user.lastname }}, {{ member.user.firstname }}</ion-col>
                    <ion-col size-xs="2"> {{ member.event }}/{{ 1 * leaders.eventCounter }}</ion-col>
                    <ion-col size-xs="2">{{ member.attendance }}/{{ leaders.eventCounter }}</ion-col>
                </ion-row>
            </div>
            <div *ngIf="leaders.members.length == 0">
                <ion-spinner style="width: 5em; height: 5em;" name="crescent"></ion-spinner>
            </div>
        </ion-grid>
        <!-- <div class="pagination">
            <a (click)="onChangePage($event, 'deduct')">❮</a>
            <a style="float:right" (click)="onChangePage($event, 'add')">❯</a>
        </div> -->
    </div>
</ion-content>
<div *ngIf="leaders.returnLeaderIDBoolean()">
    <ion-fab slot="fixed" vertical="bottom" horizontal="end" #fab>
        <ion-fab-button routerLink="/support">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</div>