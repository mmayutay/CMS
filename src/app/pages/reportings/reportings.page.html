<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Reportings</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-item>
        <div class="input-container">
            <ion-icon class="iconLogin" name="calendar"></ion-icon>
            <ion-select placeholder="Weekly" (ionChange)="leaders.typeChoice($event.target.value, 7)">
                <ion-select-option value="Weekly">Weekly</ion-select-option>
                <ion-select-option value="Monthly">Monthly</ion-select-option>
                <ion-select-option value="Quarterly">Quarterly</ion-select-option>
                <ion-select-option value="Yearly">Yearly</ion-select-option>
            </ion-select>
        </div>
    </ion-item><br>
    <ion-item>
        <ion-select *ngIf="leaders.choice == 'Weekly'" placeholder="What Week?" (ionChange)="getSelectedWeek($event)">
            <ion-select-option *ngFor="let week of weeklyView" [value]="week.value">{{ week.display }}</ion-select-option>
        </ion-select>
        <ion-select *ngIf="leaders.choice != 'Yearly'" placeholder="What Month?" (ionChange)="getSelectedMonth($event)">
            <ion-select-option *ngFor="let month of monthlyView" [value]="month">{{ month }}</ion-select-option>
        </ion-select>
        <ion-select placeholder="What Year?" (ionChange)="getSelectedYear($event)">
            <ion-select-option *ngFor="let year of listOfYears()" [value]="year">{{ year }}</ion-select-option>
        </ion-select>
    </ion-item>
    <ion-item>
        <div class="input-container">
            <ion-icon class="iconLogin" name="person"></ion-icon>
            <ion-select placeholder="Leader" *ngFor="let leader of leaders.leaders" (ionChange)="getData($event)">
                <ion-select-option [value]="leader"> {{ leader.lastname }}, {{ leader.firstname }}</ion-select-option>
            </ion-select>
        </div>
    </ion-item>
    <div class="ion-margin">
        <ion-grid>
            <ion-row class="grid">
                <ion-col size-xs="4">Name</ion-col>
                <ion-col size-xs="4">CG</ion-col>
                <ion-col size-xs="4">SC</ion-col>
            </ion-row>
            <ion-row *ngFor="let member of leaders.members;let i = index">
                <ion-col size-xs="4">{{ member.user.lastname }}, {{ member.user.firstname }}</ion-col>
                <ion-col size-xs="4"> {{ member.eventAttendance }}/{{ leaders.eventCounter }}</ion-col>
                <ion-col size-xs="4">{{ member.SCAttendance }}/{{ leaders.sundayCounter }}</ion-col>
            </ion-row>
        </ion-grid>
        <div class="pagination">
            <a (click)="onChangePage($event, 'deduct')">❮</a>
            <a style="float:right" (click)="onChangePage($event, 'add')">❯</a>
        </div>
    </div>
</ion-content>
<div *ngIf="leaders.returnLeaderIDBoolean()">
    <ion-fab slot="fixed" vertical="bottom" horizontal="end" #fab>
        <ion-fab-button routerLink="/support">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</div>